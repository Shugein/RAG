# Telegram Parser —Å CEG + AI - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–±–∑–æ—Ä

–ù–æ–≤—ã–π —É–ª—É—á—à–µ–Ω–Ω—ã–π Telegram Parser —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π **AI extraction** –∏ **CEG (Causal Event Graph)** –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **AI Extraction**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI GPT-5 –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Qwen3-4B
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π, –ª—é–¥–µ–π, –º–µ—Ç—Ä–∏–∫, —Ä—ã–Ω–∫–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

‚úÖ **CEG Real-time**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ
- –ü—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (CMNLN)
- –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–≤—è–∑–µ–π
- Event Study –¥–ª—è —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è

‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
- –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–æ–±—ã—Ç–∏—è–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏—á–∏–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π
- –†—ã–Ω–æ—á–Ω—ã–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è
- –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Å CEG (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
python scripts/start_telegram_parser_ceg.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°—Ç–∞—Ä—ã–π —Å–∫—Ä–∏–ø—Ç (–±–µ–∑ CEG)

```bash
python scripts/start_telegram_parser.py
```

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–∞—Å —Å–ø—Ä–æ—Å—è—Ç:

### 1. –í—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏

```
üß† –í—ã–±–µ—Ä–∏—Ç–µ AI –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
1. üåê OpenAI GPT (API) - —Ç–æ—á–Ω–µ–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á
2. üíª Qwen3-4B (–ª–æ–∫–∞–ª—å–Ω–æ) - –±—ã—Å—Ç—Ä–µ–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1):
```

**OpenAI GPT (–æ–ø—Ü–∏—è 1):**
- –¢—Ä–µ–±—É–µ—Ç API –∫–ª—é—á –≤ `.env`: `API_KEY_2` –∏–ª–∏ `OPENAI_API_KEY`
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**Local Qwen3-4B (–æ–ø—Ü–∏—è 2):**
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω
- –¢—Ä–µ–±—É–µ—Ç GPU (CUDA) –∏–ª–∏ –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ CPU
- –ú–æ–¥–µ–ª—å: `unsloth/Qwen3-4B-Instruct-2507-unsloth-bnb-4bit`

### 2. –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

```
üìã –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
1. üìö –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
2. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–æ–≤—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ä–µ–∂–∏–º–∞ (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1):
```

**–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–æ–ø—Ü–∏—è 1):**
```
–ó–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏? (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7):
```
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –°—Ç—Ä–æ–∏—Ç CEG –≥—Ä–∞—Ñ —Å –Ω—É–ª—è
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏—è 2):**
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ —Å–ª–µ–¥–∏—Ç –∑–∞ –Ω–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç CEG –≥—Ä–∞—Ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –¥–µ–º–æ–Ω
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

### –ü—Ä–∏–º–µ—Ä 1: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å OpenAI GPT

```bash
$ python scripts/start_telegram_parser_ceg.py

üß† –í—ã–±–µ—Ä–∏—Ç–µ AI –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
1. üåê OpenAI GPT (API) - —Ç–æ—á–Ω–µ–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á
2. üíª Qwen3-4B (–ª–æ–∫–∞–ª—å–Ω–æ) - –±—ã—Å—Ç—Ä–µ–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1): 1
‚úÖ OpenAI API –∫–ª—é—á –Ω–∞–π–¥–µ–Ω: sk-proj-...

üìã –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
1. üìö –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
2. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–æ–≤—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ä–µ–∂–∏–º–∞ (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1): 1

üìö –†–ï–ñ–ò–ú: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
------------------------------------------------------------
–ó–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏? (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7): 30

‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   - –ü–µ—Ä–∏–æ–¥: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
   - AI –º–æ–¥–µ–ª—å: OpenAI GPT
   - CEG –∞–Ω–∞–ª–∏–∑: –≤–∫–ª—é—á–µ–Ω
   - –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑: –≤–∫–ª—é—á–µ–Ω

‚è≥ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞...
```

### –ü—Ä–∏–º–µ—Ä 2: Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º Qwen

```bash
$ python scripts/start_telegram_parser_ceg.py

üß† –í—ã–±–µ—Ä–∏—Ç–µ AI –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
1. üåê OpenAI GPT (API) - —Ç–æ—á–Ω–µ–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á
2. üíª Qwen3-4B (–ª–æ–∫–∞–ª—å–Ω–æ) - –±—ã—Å—Ç—Ä–µ–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1): 2
‚úÖ –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π Qwen3-4B

üìã –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
1. üìö –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
2. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–æ–≤—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏

–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ä–µ–∂–∏–º–∞ (1 –∏–ª–∏ 2, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1): 2

üîÑ –†–ï–ñ–ò–ú: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
------------------------------------------------------------
‚úÖ –ü–∞—Ä—Å–µ—Ä –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –Ω–æ–≤—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - AI –º–æ–¥–µ–ª—å: Local Qwen3-4B
   - CEG –≥—Ä–∞—Ñ: –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑: –≤–∫–ª—é—á–µ–Ω

‚è≥ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞...
```

## –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```
üöÄ Initializing Telegram client...
üß† Initializing AI Enrichment Service...
   ‚úì Using OpenAI GPT for NER extraction
   ‚úì CEG Real-time Service initialized
   ‚úì Lookback window: 30 days
üì° Found 3 active Telegram sources
üìö Running in HISTORICAL LOADING mode (last 7 days)
   - Loading historical messages
   - Building CEG graph from scratch
   - Processing with AI extraction
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

```
üìª Starting monitor for –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (fin_news)
üì• Starting backfill for fin_news (last 7 days)
   - AI extraction: OpenAI GPT
   - CEG analysis: Enabled

Processed 100 messages from fin_news
Extracted 2 events: [rate_hike, bank_stock_up]
Found 3 causal links
Calculated 2 market impacts (significant)
Retroactive analysis: 1 new link created
‚ú® Processed 1 new items from fin_news
   ‚Üí Events: 2, Links: 3

‚úÖ Backfill stats for fin_news:
   - Messages: 523
   - Saved news: 201
   - Ads filtered: 89
   - Duplicates: 233
   - Events created: 412
   - Causal links: 87
   - Market impacts: 64
   - Retroactive updates: 23
```

### –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
======================================================================
üìä FINAL STATISTICS
======================================================================
Total messages processed: 1247
Saved news: 543
Ads filtered: 234
Duplicates: 470
Errors: 0
----------------------------------------------------------------------
CEG STATISTICS:
Events created: 1089
Causal links: 234
Market impacts: 156
Retroactive updates: 67
======================================================================
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ `sources`:

```sql
INSERT INTO sources (
    id, code, name, kind, tg_chat_id, enabled, trust_level, config
) VALUES (
    uuid_generate_v4(),
    'rbc_news',
    '–†–ë–ö –ù–æ–≤–æ—Å—Ç–∏',
    'telegram',
    '@rbc_news',
    true,
    8,  -- –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è
    '{"backfill_enabled": true, "fetch_limit": 1000}'::jsonb
);
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ .env

```bash
# OpenAI API
API_KEY_2=sk-proj-...
# –∏–ª–∏
OPENAI_API_KEY=sk-proj-...

# Database
DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/newsdb

# Neo4j (–¥–ª—è CEG)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password

# Telegram
TELETHON_API_ID=12345678
TELETHON_API_HASH=abcdef...
TELETHON_SESSION_NAME=news_parser
TELETHON_PHONE=+79991234567

# Settings
ENABLE_ENRICHMENT=true
PARSER_POLL_INTERVAL=60  # –°–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (real-time —Ä–µ–∂–∏–º)
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```
Telegram Message
       ‚Üì
   [AntiSpam Filter]
       ‚Üì
    Save News
       ‚Üì
[Enrichment Service] ‚Üê AI Extraction (GPT/Qwen)
       ‚Üì
   ‚îú‚îÄ‚îÄ Extract Entities (companies, people, metrics)
   ‚îú‚îÄ‚îÄ Link to MOEX
   ‚îú‚îÄ‚îÄ Topic Classification
   ‚îÇ
   ‚îî‚îÄ‚îÄ[CEG Real-time Service] ‚Üê NEW!
       ‚îú‚îÄ‚îÄ Event Extraction
       ‚îú‚îÄ‚îÄ Causal Link Detection (CMNLN)
       ‚îú‚îÄ‚îÄ Event Study Analysis
       ‚îî‚îÄ‚îÄ Retroactive Analysis
```

## Troubleshooting

### API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω

```
‚ö†Ô∏è  API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π Qwen3-4B
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
API_KEY_2=your_openai_api_key
```

### Neo4j –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω

```
‚ö† CEG Service not available (Neo4j not connected?)
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Neo4j: `docker-compose up -d neo4j`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:
```bash
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password
```

### –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

```
No active Telegram sources found
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –ë–î:
```sql
UPDATE sources SET enabled = true WHERE kind = 'telegram';
```

### Qwen –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```
Error loading model: Out of memory
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CUDA
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI API –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
3. –£–º–µ–Ω—å—à–∏—Ç–µ batch_size –≤ `entity_recognition_local.py`

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å demo_ceg_pipeline.py

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | demo_ceg_pipeline.py | start_telegram_parser_ceg.py |
|---------------|---------------------|------------------------------|
| **–ó–∞–ø—É—Å–∫** | –í—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ |
| **–†–µ–∂–∏–º** | Batch (–≤—Å–µ —Å—Ä–∞–∑—É) | Real-time (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ) |
| **CEG** | –°—Ç—Ä–æ–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ | –°—Ç—Ä–æ–∏—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ |
| **–†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞** | –ù–µ—Ç | –î–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –î–µ–º–æ/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –ü—Ä–æ–¥–∞–∫—à–Ω |

## –°–º. —Ç–∞–∫–∂–µ

- [CEG_REALTIME_PIPELINE.md](CEG_REALTIME_PIPELINE.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ CEG
- [CEG_README.md](CEG_README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CEG
- [CLAUDE.md](CLAUDE.md) - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
