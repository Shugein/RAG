# RAG News Processing System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–∏–µ–º–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π, –≥–∏–±—Ä–∏–¥–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å—Ç–∞—Ç–µ–π —á–µ—Ä–µ–∑ LLM.

## –û—Å–Ω–æ–≤–Ω–æ–π —Å–º—ã—Å–ª

–õ–æ–≥–∏–∫–∞ —Ç–∞–∫–∞—è: –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º —Å–∏–≥–Ω–∞–ª –∏–∑ –ª–µ–Ω—Ç—ã (—Å—Ç–∞—Ç—å—è, —Ä–µ–ª–∏–∑, –ø–æ—Å—Ç —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞) –∏ —Å—Ä–∞–∑—É –ø—Ä–∏–≤–æ–¥–∏–º –µ–≥–æ –∫ ¬´—Å–æ–±—ã—Ç–∏—é¬ª —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º –∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏. –ü–µ—Ä–µ–¥ —ç—Ç–∏–º —Ç–µ–∫—Å—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–Ω–ª–∞–π–Ω-–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ç–æ—Ä: –±–ª–∏–∑–∫–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –∫–ª–∞—Å—Ç–µ—Ä —Å—é–∂–µ—Ç–∞, –∫ –Ω–µ–º—É –∂–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–æ—Ü-–ø–æ—Å—Ç—ã. –î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–≥–æ—Ä—è—á–µ—Å—Ç—å¬ª (Importance: –Ω–æ–≤–∏–∑–Ω–∞ —Ç–µ–º—ã, –≤—Å–ø–ª–µ—Å–∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —à–∏—Ä–æ—Ç–∞ –æ—Ö–≤–∞—Ç–∞ –∏ ‚Äî –≤ –∏—Å—Ç–æ—Ä–∏–∏ ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ü–µ–Ω—ã). –ó–∞—Ç–µ–º LLM (GPT-5 –ø–æ API –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Qwen3-4B 4-bit) –≤—ã–¥–µ–ª—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π: –Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–Ω–∞–º–µ—Ä–µ–Ω–∏–µ –≤–≤–µ—Å—Ç–∏ —Å–∞–Ω–∫—Ü–∏–∏ –ï–°¬ª –∏ ¬´–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–∞–≤–æ–≤—ã—Ö –æ—Å–Ω–æ–≤–∞–Ω–∏–π –¥–ª—è –∑–∞–¥–µ—Ä–∂–∞–Ω–∏–π¬ª. –≠—Ç–∏ —Å–æ–±—ã—Ç–∏—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –Ω–∞ ¬´—è–∫–æ—Ä—è¬ª (–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π), –º–µ–∂–¥—É –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ —è–∫–æ—Ä–µ–π –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–∏–µ ¬´–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–µ¬ª –∑–≤–µ–Ω—å—è (evidence), –∏ –∏–∑ –ø—Ä–∏—á–∏–Ω—ã-–∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∫ –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–∏—á–∏–Ω–Ω–æ-–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ. –ù–∞ –Ω—ë–º —Ä–∞–±–æ—Ç–∞–µ—Ç CMNLN: –º–æ–¥–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª ¬´A ‚áí B¬ª —Å —É—á—ë—Ç–æ–º –ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—É—á—à–µ–π —Ü–µ–ø–æ—á–∫–∏ p_chain –∏ –æ–∂–∏–¥–∞–µ–º–æ–µ ¬´–æ–∫–Ω–æ¬ª —Ä–µ–∞–∫—Ü–∏–∏. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å –•–æ–∫—Å–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ —Å–æ—Ü-–ø–æ—Å—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–æ—Ä–∏—Ç –ª–∏ —Ç–µ–º–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π expected_lag.

–î–∞–ª—å—à–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ ¬´—Ç–µ–∫—É—â–µ–≥–æ¬ª –Ω–∞–±–ª—é–¥—ë–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –º—ã —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –≤–ø–µ—Ä—ë–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —à–∞–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—á–µ—Ä–Ω–æ–≤–∏–∫ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞¬ª ‚Üí ¬´–ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∞–∫—Ç–∞¬ª ‚Üí ¬´–ø–µ—Ä–≤—ã–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∞–Ω–∏—è¬ª ‚Üí ¬´—Å—Ä—ã–≤ –ø–æ—Å—Ç–∞–≤–æ–∫/–¥–∏—Å—Ä–∞–ø—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∏¬ª ‚Üí ¬´–æ—Ç—á—ë—Ç –∏–ª–∏ guidance –∫–æ–º–ø–∞–Ω–∏–π —Å–µ–∫—Ç–æ—Ä–∞¬ª). –≠—Ç–∏ —É–∑–ª—ã –º—ã —Å–æ–∑–¥–∞—ë–º —Å—Ä–∞–∑—É –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º hypothesis, —Å —Ç–∏–ø–æ–º, –∫–ª—é—á–µ–≤—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏, –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º expected_lag –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–æ—Ä–Ω—ã–µ evidence. –ú–µ–∂–¥—É ¬´–ø—Ä–∏—á–∏–Ω–æ–π¬ª –∏ –∫–∞–∂–¥—ã–º —Ç–∞–∫–∏–º –±—É–¥—É—â–∏–º —Å–æ–±—ã—Ç–∏–µ–º –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–Ω–æ–µ —Ä–µ–±—Ä–æ CAUSES(kind='HYPOTHESIS') —Å –ø–æ–ª—è–º–∏: –∑–Ω–∞–∫ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞, p_chain, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (—Ç–µ–∫—Å—Ç/–ø—Ä–∏–æ—Ä/—Ä—ã–Ω–æ–∫), —Å–ø–∏—Å–æ–∫ evidence –∏ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è. –û—Ç–¥–µ–ª—å–Ω–æ –º—ã –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º —Ä—ã–Ω–æ—á–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–∑–ª—ã —Ç–∏–ø–∞ market_move –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å–æ–≤, –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º AFFECTS c –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ ¬´–æ–∫–Ω–æ–º¬ª —Ä–µ–∞–∫—Ü–∏–∏ –∏ ‚Äî –µ—Å–ª–∏ —Å—É–º–º–∞—Ä–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ ¬´–≥–æ—Ä—è—á–µ—Å—Ç—å¬ª –≤—ã—Å–æ–∫–∏ ‚Äî —Å—Ç–∞–≤–∏–º –≤–æ—Ç—á–µ—Ä—ã –Ω–∞ 15m/60m/1d/5d, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É –ø–æ —Ñ–∞–∫—Ç—É –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã –∏ –ø–æ–¥–Ω—è—Ç—å conf_market. –¢–∞–∫ –≥—Ä–∞—Ñ –≤ –æ–Ω–ª–∞–π–Ω–µ —Ä–∞—Å—Ç—ë—Ç –≤–ø–µ—Ä—ë–¥ –±–µ–∑ –∂—ë—Å—Ç–∫–æ–≥–æ cut-off: —á–∞—Å—Ç—å —É–∑–ª–æ–≤ ‚Äî –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (—Å–ø–ª–æ—à–Ω—ã–µ), —á–∞—Å—Ç—å ‚Äî –ø—Ä–æ–≥–Ω–æ–∑—ã (–ø—É–Ω–∫—Ç–∏—Ä —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º, –ø–æ—á–µ–º—É –º—ã —Ç–∞–∫ —Å—á–∏—Ç–∞–µ–º).

–ß—Ç–æ –º—ã —Å—á–∏—Ç–∞–µ–º ¬´–Ω–æ–≤–æ–π –Ω–æ–≤–æ—Å—Ç—å—é¬ª –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: –ª—é–±–∞—è –≤–Ω–µ—à–Ω—è—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è, —É –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç —è–≤–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–∞ –≤ –Ω–∞—à–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ (–ø–æ —Ö—ç—à—É, —ç–º–±–µ–¥–¥–∏–Ω–≥—É, –∏—Å—Ç–æ—á–Ω–∏–∫—É –∏ –≤—Ä–µ–º–µ–Ω–∏), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –Ω–æ–≤—ã–π —É–∑–µ–ª News —Å –ø–æ–ª—è–º–∏ id, –∏—Å—Ç–æ—á–Ω–∏–∫/–¥–æ–º–µ–Ω, –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∑–∞–≥–æ–ª–æ–≤–æ–∫/—Ç–µ–∫—Å—Ç, —è–∑—ã–∫, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è credibility –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä. –ï—Å–ª–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—á—Ç–∏ –¥–æ—Å–ª–æ–≤–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–π ‚Äî —ç—Ç–æ –Ω–µ –Ω–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å, –∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: –º—ã –Ω–µ —Å–æ–∑–¥–∞—ë–º –≤—Ç–æ—Ä–æ–π News, –∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º evidence –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–æ–±—ã—Ç–∏—é –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏ Burst/Breadth/credibility (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´+–µ—â—ë –æ–¥–∏–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –¥–æ–º–µ–Ω¬ª). –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∫ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é (—Ç–µ –∂–µ —è–∫–æ—Ä—å –∏ —Å—É—â–Ω–æ—Å—Ç–∏, –Ω–æ —É—Ç–æ—á–Ω–µ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç—ã ‚Äî –Ω–æ–º–µ—Ä –ø–∞–∫–µ—Ç–∞, —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤, —Ä–µ–≥–∏–æ–Ω –¥–µ–π—Å—Ç–≤–∏—è), –º—ã –Ω–µ –ø–æ—Ä–æ–∂–¥–∞–µ–º –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∞ –ø–æ–º–µ—á–∞–µ–º —Ç–µ–∫—É—â–∏–π News –∫–∞–∫ ABOUT —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º ¬´—É—Ç–æ—á–Ω–µ–Ω–∏–µ¬ª (REFINES) –≤ –µ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö. –ï—Å–ª–∏ –∂–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å—Ç–æ–∏—Ç –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–Ω–æ–≤—ã–π —è–∫–æ—Ä—å, –Ω–æ–≤–∞—è —Ñ–∞–∑–∞ —Å—é–∂–µ—Ç–∞ –∏–ª–∏ –¥—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–Ω–∞—è –≤–µ—Ç–∫–∞), –º—ã —Å–æ–∑–¥–∞—ë–º –∏ –Ω–æ–≤—ã–π News, –∏ –Ω–æ–≤–æ–µ Event, —Å–≤—è–∑—ã–≤–∞–µ–º –µ–≥–æ PRECEDES —Å –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏ –∏, –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–∞—É–∑–∞–ª—å–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∞–≥–∞, –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ CAUSES. –ü—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ—Å—Ç–æ–π: ¬´–Ω–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å¬ª ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–Ω–µ—à–Ω—è—è –µ–¥–∏–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞; ¬´–Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ¬ª ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è —Å–º—ã—Å–ª–æ–≤–∞—è —Å—Ç—É–ø–µ–Ω—å –≤ –ø—Ä–∏—á–∏–Ω–Ω–æ–π —Ü–µ–ø–∏; ¬´–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å¬ª –º—ã –Ω–µ —Ñ–∞–±—Ä–∏–∫—É–µ–º –∫–∞–∫ News, –∞ –æ—Ç—Ä–∞–∂–∞–µ–º –∫–∞–∫ Event-–≥–∏–ø–æ—Ç–µ–∑—É —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º (anchors/evidence, p_chain, expected_lag). –ö–æ–≥–¥–∞ –ø–æ–∑–¥–Ω–µ–µ –≤—ã—Ö–æ–¥–∏—Ç —Ä–µ–∞–ª—å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –Ω–∞—à–µ–º—É –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é, –º—ã –º–∞—Ç—á–∏–º –µ—ë –∫ –≥–∏–ø–æ—Ç–µ–∑–µ, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–π Event –≤ observed (—Å–ª–∏–≤–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã), –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º News —á–µ—Ä–µ–∑ ABOUT, –ø–æ–≤—ã—à–∞–µ–º —Å—Ç–∞—Ç—É—Å —Ä–µ–±—Ä–∞ CAUSES –¥–æ confirmed, –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤–æ—Ç—á–µ—Ä—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ–º Importance –∏ –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∞–∫—Ü–∏–∏.

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Tg_app_ui ‚Üí HTTP Server ‚Üí Queuery ‚Üí Processing Pipeline ‚Üí Weaviate Vector DB ‚Üí Search ‚Üí Article Generation
                (8081)                (NER + Chunking)        (8080)           (Hybrid)      (LLM)
```
![Uploading image.png‚Ä¶]()

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
RAG/
radar-ai/
‚îú‚îÄ‚îÄParser.src/
‚îÇ   ‚îú‚îÄ‚îÄ download/                    # –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ downloader_functions.py # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å NER)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ check_collection.py     # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π Weaviate
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ system/                      # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vdb.py                  # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity_recognition.py   # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (GPT-5-nano)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.py               # –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engine.py               # RAG –ø–∞–π–ø–ª–∞–π–Ω (–ø–æ–∏—Å–∫ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LLM_final/              # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.py             # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ sys_prompt.py       # System prompt –¥–ª—è LLM
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ output.py           # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ HTML/PDF
‚îÇ   ‚îÇ
‚îú‚îÄ‚îÄ parser/               # –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml        # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ alembic.ini               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ migrations/               # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ versions/
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sources.yml           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ad_rules.yml          # –ü—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enricher/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ html_parser/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ download/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ downloader_functions.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ check_collection.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vdb.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity_recognition.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engine.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ llm_final/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ sys_prompt.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ output.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vector_store.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ retriever.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generator.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rag_pipeline.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ moex/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ml/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ outbox/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ covariance_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ event_bus.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ impact_calculator.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market_data_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ news_trigger.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trading_signals.py
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ historical.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ websocket.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ endpoints/
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rate_limiter.py
‚îÇ   ‚îú‚îÄ‚îÄ integrations/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trading_signals.py
‚îÇ   ‚îú‚îÄ‚îÄ workers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ impact_worker.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logging.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ text_utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ graph_models.py
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ learned_aliases.json
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ sessions/
‚îÇ   ‚îî‚îÄ‚îÄ docker/
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile.api
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile.telegram
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile.enricher
‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile.outbox
```

### Core –º–æ–¥—É–ª–∏
- **config.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Pydantic Settings
- **database.py** - SQLAlchemy engine –∏ —Å–µ—Å—Å–∏–∏
- **models.py** - ORM –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü

### Telegram_Parser Service
- **client.py** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telethon –∫–ª–∏–µ–Ω—Ç–∞
- **parser.py** - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- **antispam.py** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã

### HTML Parser Service
- **base_html_parser.py** - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö HTML –ø–∞—Ä—Å–µ—Ä–æ–≤
- **html_parser_service.py** - —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–∞–º–∏
- **forbes_parser.py** - –ø–∞—Ä—Å–µ—Ä Forbes Russia
- **interfax_parser.py** - –ø–∞—Ä—Å–µ—Ä Interfax
- **moex_parser.py** - –ø–∞—Ä—Å–µ—Ä –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏
- **edisclosure_parser.py** - –ø–∞—Ä—Å–µ—Ä eDisclosure
- **edisclosure_messages_parser.py** - –ø–∞—Ä—Å–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π eDisclosure

### Enricher Service
- **ner_extractor.py** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Natasha
- **moex_linker.py** - —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π —Å —Ç–∏–∫–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ Algopack API
- **topic_classifier.py** - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –æ—Ç—Ä–∞—Å–ª—è–º
- **company_aliases.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–π
- **enrichment_service.py** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –æ–±–æ–≥–∞—â–µ–Ω–∏—è
- **moex_auto_search.py** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ MOEX
- **sector_mapper.py** - –º–∞–ø–ø–∏–Ω–≥ –æ—Ç—Ä–∞—Å–ª–µ–π

### Events & CEG Engine
- **event_extractor.py** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π
- **cmnln_engine.py** - –¥–≤–∏–∂–æ–∫ CMNLN (Causal Mining of News & Links Networks)
- **causal_chains_engine.py** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫
- **ceg_realtime_service.py** - real-time –æ–±—Ä–∞–±–æ—Ç–∫–∞ CEG
- **enhanced_evidence_engine.py** - –ø–æ–∏—Å–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –ø—Ä–∏—á–∏–Ω–Ω–æ—Å—Ç–∏
- **event_prediction.py** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **historical_backfill_service.py** - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **importance_calculator.py** - —Ä–∞—Å—á–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π
- **watchers.py** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π

### RAG (Retrieval-Augmented Generation) System
- **download/downloader_functions.py** - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å NER
- **download/check_collection.py** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π Weaviate
- **system/vdb.py** - —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **system/entity_recognition.py** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (GPT-5-nano)
- **system/search.py** - –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥–æ–º
- **system/engine.py** - RAG –ø–∞–π–ø–ª–∞–π–Ω (–ø–æ–∏—Å–∫ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- **system/llm_final/main.py** - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π
- **system/llm_final/sys_prompt.py** - System prompt –¥–ª—è LLM
- **system/llm_final/output.py** - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ HTML/PDF
- **vector_store.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- **embeddings.py** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- **retriever.py** - –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **generator.py** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **rag_pipeline.py** - –æ—Å–Ω–æ–≤–Ω–æ–π RAG –ø–∞–π–ø–ª–∞–π–Ω

### RAG Core Components (–≤ –∫–æ—Ä–Ω–µParser.src/)
- **download/** - –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
- **system/** - —è–¥—Ä–æ RAG —Å–∏—Å—Ç–µ–º—ã
- **system/LLM_final/** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π

### Market Data & Analytics
- **moex_prices.py** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å MOEX
- **market_data_service.py** - —Å–µ—Ä–≤–∏—Å —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **trading_signals.py** - —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- **impact_calculator.py** - —Ä–∞—Å—á–µ—Ç –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä—ã–Ω–∫–∏
- **covariance_service.py** - –∞–Ω–∞–ª–∏–∑ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–∏
- **analytics/dashboard.py** - –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–Ω–µ–ª—å

### Machine Learning
- **news_clustering.py** - –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
- **sentiment_analyzer.py** - –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### API Layer
- **main.py** - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **historical.py** - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- **schemas.py** - Pydantic —Å—Ö–µ–º—ã –¥–ª—è API
- **websocket.py** - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **endpoints/** - REST API endpoints:
  - **news.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏
  - **sources.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
  - **health.py** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
  - **jobs.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
  - **ceg.py** - Causal Event Graph API
  - **importance.py** - API –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π
  - **watchers.py** - API –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  - **images.py** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### Infrastructure
- **outbox/relay.py** - —á—Ç–µ–Ω–∏–µ –∏–∑ outbox —Ç–∞–±–ª–∏—Ü—ã
- **outbox/publisher.py** - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ RabbitMQ
- **storage/news_repository.py** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏
- **storage/image_service.py** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **cache_service.py** - —Å–µ—Ä–≤–∏—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **event_bus.py** - —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π
- **news_trigger.py** - —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π
- **workers/impact_worker.py** - –≤–æ—Ä–∫–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ –≤–ª–∏—è–Ω–∏—è
- **middleware/rate_limiter.py** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### Graph Database
- **graph_models.py** - –º–æ–¥–µ–ª–∏ –¥–ª—è Neo4j –≥—Ä–∞—Ñ–∞

### Utilities
- **logging.py** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **text_utils.py** - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend Framework
- **Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **SQLAlchemy 2.0** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ORM
- **Alembic** - –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### Databases
- **PostgreSQL 15** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î
- **Neo4j 5** - –≥—Ä–∞—Ñ–æ–≤–∞—è –ë–î –¥–ª—è CEG
- **Redis 7** - –∫—ç—à –∏ –æ—á–µ—Ä–µ–¥–∏
- **RabbitMQ 3.12** - –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π

### Data Collection
- **Telethon** - –∫–ª–∏–µ–Ω—Ç Telegram API
- **httpx** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
- **aio-pika** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π RabbitMQ –∫–ª–∏–µ–Ω—Ç
- **BeautifulSoup4** - –ø–∞—Ä—Å–∏–Ω–≥ HTML

### NLP & AI
- **Natasha** - NER –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- **OpenAI GPT** - –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- **Qwen3-4B** - –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ GPT
- **FuzzyWuzzy** - –Ω–µ—á–µ—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
- **Pymorphy3** - –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

### Market Data
- **MOEX ISS API** - –¥–∞–Ω–Ω—ã–µ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏
- **Algopack API** - —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π —Å —Ç–∏–∫–µ—Ä–∞–º–∏

### Infrastructure
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Prometheus** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫
- **Structlog** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Pillow** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Tenacity** - retry –º–µ—Ö–∞–Ω–∏–∑–º—ã

### Development Tools
- **pytest** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Black** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **Flake8** - –ª–∏–Ω—Ç–∏–Ω–≥
- **MyPy** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
##  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python**: 3.12
- **Docker**: 20.10+ —Å Docker Compose
- **GPU**: NVIDIA GPU —Å CUDA (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **RAM**: –º–∏–Ω–∏–º—É–º 32GB
- **API –∫–ª—é—á–∏**: OpenAI API (–¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π)
- **20GB** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd RAG

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram
```powershell
.\setup_telegram.ps1
```

# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```powershell
.\start_dev.ps1
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# OpenAI API –∫–ª—é—á (–¥–ª—è GPT-5-nano –≤ entity_recognition)
API_KEY_2=sk-your-openai-api-key

# OpenAI API –∫–ª—é—á (–¥–ª—è GPT-5 –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π)
API_KEY=sk-your-openai-api-key

# –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OPENAI_MODEL=gpt-5

# Database
DATABASE_URL=postgresql+asyncpg://newsuser:newspass@localhost:5432/newsdb
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# Neo4j Graph Database
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password123
NEO4J_DATABASE=neo4j

# RabbitMQ
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/
RABBITMQ_EXCHANGE=news
RABBITMQ_PREFETCH_COUNT=10

# Telegram
TELETHON_API_ID=your_api_id
TELETHON_API_HASH=your_api_hash
TELETHON_SESSION_NAME=news_parser
TELETHON_PHONE=+7xxxxxxxxxx
TELEGRAM_BATCH_SIZE=100
TELEGRAM_BACKFILL_DAYS=365

# External APIs
ALGOPACK_API_KEY=your_algopack_key
ALGOPACK_BASE_URL=https://api.algopack.com/v1

# RAG & Vector Search
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_key
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
VECTOR_DIMENSION=1536
SIMILARITY_THRESHOLD=0.7
MAX_RETRIEVAL_DOCS=10

# Parsing Configuration
PARSER_WORKERS=4
PARSER_POLL_INTERVAL=60
PARSER_BACKOFF_FACTOR=2.0
PARSER_MAX_RETRIES=3

# Enrichment
ENRICHER_BATCH_SIZE=20
ENRICHER_WORKERS=2
NER_CONFIDENCE_THRESHOLD=0.7
COMPANY_MATCH_THRESHOLD=0.6

# Anti-spam
ANTISPAM_THRESHOLD=5.0
ANTISPAM_TRUSTED_THRESHOLD=8.0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
API_PAGE_SIZE=50
API_MAX_PAGE_SIZE=200

# Images
IMAGE_MAX_SIZE_MB=15
IMAGE_THUMBNAIL_SIZE=(400, 400)
IMAGE_ALLOWED_TYPES=["image/jpeg", "image/png", "image/webp", "image/gif"]

# Monitoring
METRICS_PORT=9090
LOG_LEVEL=INFO
LOG_FORMAT=json

# Feature Flags
ENABLE_TELEGRAM=true
ENABLE_HTML_PARSER=true
ENABLE_ENRICHMENT=true
ENABLE_ANTISPAM=true
ENABLE_METRICS=true

# Development
DEBUG=false
TESTING=false
```

### 4. –ó–∞–ø—É—Å–∫ Weaviate

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (Weaviate + –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä + reranker)
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker ps

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ:
# - weaviate (–ø–æ—Ä—Ç 8080)
# - text2vec-transformers (–ø–æ—Ä—Ç 8083) - –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä –Ω–∞ GPU (–¥–∏—Å—Ç–∏–ª—Ü–∏—è FRIDA)
# - bge-reranker (–ø–æ—Ä—Ç 8082) - reranker
```

–ü–æ–¥–æ–∂–¥–∏—Ç–µ ~1-2 –º–∏–Ω—É—Ç—ã –ø–æ–∫–∞ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–≥—Ä—É–∑—è—Ç—Å—è.

### 5. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

```bash
# docker-compose up -d postgres redis rabbitmq neo4j
```

```bash
alembic upgrade head
```

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
pythonParser.src/system/vdb.py
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–æ–≤–æ—Å—Ç–∏
2. –î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ (–∫–æ–º–ø–∞–Ω–∏–∏, –ø–µ—Ä—Å–æ–Ω—ã, —Ä—ã–Ω–∫–∏, –º–µ—Ç—Ä–∏–∫–∏) —á–µ—Ä–µ–∑ GPT-5-nano
3. –¢–µ–∫—Å—Ç—ã —á–∞–Ω–∫—É—é—Ç—Å—è –∏ –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è
4. –î–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ Weaviate —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π GPU-–≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–í—ã–≤–æ–¥:**
```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π: gpt-5-nano
–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ X —á–∞–Ω–∫–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Weaviate
```

### 6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤*
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
python scripts/start_telegram_parser.py
python scripts/start_enricher.py
python scripts/start_outbox_relay.py
python scripts/start_api.py
```

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ë–î
pythonParser.src/download/check_collection.py
```

**–í—ã–≤–æ–¥:**
- –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ Weaviate
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –°—Ö–µ–º–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ NewsChunks (–≤—Å–µ –ø–æ–ª—è)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω)
- 2 –ø—Ä–∏–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏

### 8. –û—Å–Ω–æ–≤–Ω–æ–π RAG-pipeline

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å RAG –ø–∞–π–ø–ª–∞–π–Ω
pythonParser.src/system/engine.py
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** –ø–æ –∑–∞–ø—Ä–æ—Å—É 
   - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π)
   - BM25 –ø–æ–∏—Å–∫ (–ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π/keyword)
   - –†–µ—Ä–∞–Ω–∫–∏–Ω–≥ —Å BAAI/bge-reranker-v2-m3
   - –£—á–µ—Ç hotness –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Å–∫–æ—Ä–µ
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏** —á–µ—Ä–µ–∑ GPT-5
   - Social post (280 —Å–ª–æ–≤)
   - Article draft (500 —Å–ª–æ–≤)
   - Alert (–∫—Ä–∞—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
   - –•—ç—à—Ç–µ–≥–∏, –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã, –∏–¥–µ–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–í—ã–≤–æ–¥:**
```
=== HYBRID SEARCH WITH RERANKING ===
Found 10 results after hybrid search + reranking

After hotness adjustment:
 1. Rerank: 0.8500 + Hotness: 0.50 = Final: 0.7450 | –°–±–µ—Ä–±–∞–Ω–∫ –ø–æ–∫–∞–∑–∞–ª —Ä–µ–∫–æ—Ä–¥–Ω—É—é –ø—Ä–∏–±—ã–ª—å

=== Final Documents (sorted by final score with hotness) ===
üìÑ Result #1
   Title: –°–±–µ—Ä–±–∞–Ω–∫ –ø–æ–∫–∞–∑–∞–ª —Ä–µ–∫–æ—Ä–¥–Ω—É—é –ø—Ä–∏–±—ã–ª—å
   Type: üîπ Full Parent Document
   Final Score: 0.7450 = 0.8500 √ó 0.70 + 0.50 √ó 0.30
   –ö–æ–º–ø–∞–Ω–∏–∏: –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫

=== GENERATED ARTICLE ===
–ó–∞–≥–æ–ª–æ–≤–æ–∫: –°–±–µ—Ä–±–∞–Ω–∫: —Ä–µ–∫–æ—Ä–¥–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –∑–∞ 4–ö24, –≤—ã—à–µ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ –Ω–∞ 5%
...
```

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –ü–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π** (`parser/test_news.json`)
   ```json
   {
     "text": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏...",
     "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
     "timestamp": 1704067200,
     "url": "https://...",
     "source": "–†–ë–ö"
   }
   ```

2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π** (`entity_recognition.py`)
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ GPT-5-nano
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ: –∫–æ–º–ø–∞–Ω–∏–π, —Ç–∏–∫–µ—Ä–æ–≤, —Å–µ–∫—Ç–æ—Ä–æ–≤, –ø–µ—Ä—Å–æ–Ω, –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π, —Ä—ã–Ω–∫–æ–≤, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è –¥–æ 50% –Ω–∞ —Ç–æ–∫–µ–Ω–∞—Ö)

3. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** (`downloader_functions.py`)
   - –ß–∞–Ω–∫–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ (800 —Å–∏–º–≤–æ–ª–æ–≤, overlap 200)
   - –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è BM25 (WordNet)
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ Document –æ–±—ä–µ–∫—Ç–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

4. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è** (`vdb.py`)
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ NewsChunks
   - –ó–∞–≥—Ä—É–∑–∫–∞ —á–∞–Ω–∫–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π GPU-–≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
   - –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –ü–æ–∏—Å–∫–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω

**–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:**

```
Query: "–°–±–µ—Ä–±–∞–Ω–∫ –ø—Ä–∏–±—ã–ª—å"
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  HYBRID SEARCH          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ Vector (alpha √ó s)    ‚îÇ ‚Üê –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ original_text
‚îÇ ‚Ä¢ BM25 ((1-alpha) √ó s)  ‚îÇ ‚Üê Keyword –ø–æ–∏—Å–∫ –ø–æ text_for_bm25
‚îÇ ‚Ä¢ Fusion (RELATIVE)     ‚îÇ ‚Üê –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ–≤
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  RERANKING              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ bge-reranker-v2-m3      ‚îÇ ‚Üê –ü–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ original_text
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  HOTNESS ADJUSTMENT     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ final = rerank√ó0.7      ‚îÇ
‚îÇ       + hotness√ó0.3     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PARENT DOC RETRIEVAL   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Deduplication           ‚îÇ ‚Üê –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏ parent_doc_id
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
    Top N results
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞:**

- `alpha` (0.0-1.0) - –±–∞–ª–∞–Ω—Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–π/BM25
  - 0.0 = —Ç–æ–ª—å–∫–æ BM25 (–ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π)
  - 0.5 = –≥–∏–±—Ä–∏–¥–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - 1.0 = —Ç–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π
- `hotness_weight` (0.0-1.0) - –≤–µ—Å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
  - 0.0 = —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å
  - 0.3 = –±–∞–ª–∞–Ω—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - 1.0 = —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π

**–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:**

```
Search Results (—Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏)
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  EXTRACT ENTITIES        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ companies ‚Üí Instruments‚îÇ
‚îÇ ‚Ä¢ tickers, sectors       ‚îÇ
‚îÇ ‚Ä¢ sources ‚Üí SourceItems  ‚îÇ
‚îÇ ‚Ä¢ hotness ‚Üí hot_score    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  BUILD REQUEST           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ DraftRequest(            ‚îÇ
‚îÇ   news_type="earnings",  ‚îÇ
‚îÇ   tone="explanatory",    ‚îÇ
‚îÇ   instruments=[...],     ‚îÇ
‚îÇ   sources=[...],         ‚îÇ
‚îÇ   body_text=full_text    ‚îÇ
‚îÇ )                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  GPT-5 GENERATION        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Structured output:       ‚îÇ
‚îÇ ‚Ä¢ headline, dek          ‚îÇ
‚îÇ ‚Ä¢ variants (social,      ‚îÇ
‚îÇ   article, alert)        ‚îÇ
‚îÇ ‚Ä¢ key_points, hashtags   ‚îÇ
‚îÇ ‚Ä¢ visual ideas           ‚îÇ
‚îÇ ‚Ä¢ disclaimer             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üì
    DraftResponse
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ—Ä—Ç—ã

- **8080** - Weaviate (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- **8082** - BGE Reranker
- **8083** - Text2Vec Transformers (–≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä)


### –°—Ö–µ–º–∞ –ë–î (Weaviate Collection)

**–ö–æ–ª–ª–µ–∫—Ü–∏—è:** `NewsChunks`

**–¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è:**
- `original_text` (TEXT) - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —á–∞–Ω–∫–∞, **–≤–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è**
- `text_for_bm25` (TEXT) - –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è BM25, **skip_vectorization=True**
- `parent_doc_text` (TEXT) - –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- `chunk_index` (INT) - –∏–Ω–¥–µ–∫—Å —á–∞–Ω–∫–∞
- `parent_doc_id` (TEXT) - ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `title`, `url`, `source` (TEXT) - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- `timestamp` (INT) - Unix timestamp
- `publication_date` (TEXT) - –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ YYYY-MM-DD
- `hotness` (NUMBER) - –æ—Ü–µ–Ω–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ 0.0-1.0

**–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**
- `entities_json` (TEXT) - –ø–æ–ª–Ω—ã–π JSON —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- `companies` (TEXT_ARRAY) - –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π
- `company_tickers` (TEXT_ARRAY) - —Ç–∏–∫–µ—Ä—ã
- `company_sectors` (TEXT_ARRAY) - —Å–µ–∫—Ç–æ—Ä—ã
- `people` (TEXT_ARRAY) - –∏–º–µ–Ω–∞ –ø–µ—Ä—Å–æ–Ω
- `people_positions` (TEXT_ARRAY) - –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
- `markets` (TEXT_ARRAY) - —Ä—ã–Ω–∫–∏/–±–∏—Ä–∂–∏/–∏–Ω–¥–µ–∫—Å—ã
- `market_types` (TEXT_ARRAY) - —Ç–∏–ø—ã —Ä—ã–Ω–∫–æ–≤
- `financial_metric_types` (TEXT_ARRAY) - —Ç–∏–ø—ã –º–µ—Ç—Ä–∏–∫
- `financial_metric_values` (TEXT_ARRAY) - –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ alpha

```python
from Parser.src.system.engine import RAGPipeline

rag = RAGPipeline()
rag.connect()

# –¢–æ–ª—å–∫–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (alpha=1.0)
results = rag.search("–Ω–æ–≤–æ—Å—Ç–∏ –æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º –∫—Ä–∏–∑–∏—Å–µ", alpha=1.0)

# –¢–æ–ª—å–∫–æ keyword –ø–æ–∏—Å–∫ (alpha=0.0)
results = rag.search("–°–±–µ—Ä–±–∞–Ω–∫ –ø—Ä–∏–±—ã–ª—å", alpha=0.0)

# –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (alpha=0.5)
results = rag.search("–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", alpha=0.5)
```

### –ü—Ä–∏–º–µ—Ä 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Ç–∞—Ç–µ–π

```python
# Earnings –Ω–æ–≤–æ—Å—Ç—å
result = rag.query(
    user_query="–°–±–µ—Ä–±–∞–Ω–∫ –æ—Ç—á–∏—Ç–∞–ª—Å—è –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª",
    news_type="earnings",
    tone="explanatory",
    desired_outputs=["social_post", "article_draft", "alert"]
)

# –ú–∞–∫—Ä–æ-–Ω–æ–≤–æ—Å—Ç—å
result = rag.query(
    user_query="–¶–ë –ø–æ–≤—ã—Å–∏–ª –∫–ª—é—á–µ–≤—É—é —Å—Ç–∞–≤–∫—É",
    news_type="macro",
    tone="urgent",
    desired_outputs=["alert", "social_post"]
)

# –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥
result = rag.query(
    user_query="–†–∞–∑–≤–∏—Ç–∏–µ —Ñ–∏–Ω—Ç–µ—Ö-—Å–µ–∫—Ç–æ—Ä–∞",
    news_type="industry_trend",
    tone="explanatory",
    desired_outputs=["article_draft", "digest"]
)
```

### –ü—Ä–∏–º–µ—Ä 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –≤ PDF

```python
from Parser.src.system.LLM_final.output import save_article_pdf

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç–∞—Ç—å—é
result = rag.query(user_query="...")
draft = result['draft']

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ PDF
pdf_path = save_article_pdf(
    draft.model_dump(by_alias=True),
    "article_output.pdf"
)
print(f"PDF —Å–æ—Ö—Ä–∞–Ω—ë–Ω: {pdf_path}")
```

## üì° API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Python API

```python
from Parser.src.system.engine import RAGPipeline

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
rag = RAGPipeline(collection_name="NewsChunks")
rag.connect()

# –ü–æ–∏—Å–∫
results = rag.search(
    query="–Ø–Ω–¥–µ–∫—Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
    limit=10,
    rerank_limit=3,
    alpha=0.5,
    hotness_weight=0.3
)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏
article = rag.query(
    user_query="–ù–æ–≤–æ—Å—Ç–∏ –æ –Ø–Ω–¥–µ–∫—Å–µ",
    news_type="tech_fintech",
    tone="explanatory"
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç
print(article['draft'].headline)
print(article['draft'].variants['article_draft'])
```

## üêõ Troubleshooting

### Weaviate –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs weaviate

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker compose down
docker compose up -d
```

### –û—à–∏–±–∫–∞ GPU

–ï—Å–ª–∏ –Ω–µ—Ç GPU, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:

```yaml
text2vec-transformers:
  environment:
    ENABLE_CUDA: "0"  # –û—Ç–∫–ª—é—á–∏—Ç—å CUDA
```

–ò —É–¥–∞–ª–∏—Ç–µ —Å–µ–∫—Ü–∏—é `deploy.resources`.

### –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ë–î
pythonParser.src/download/check_collection.py
```

–ï—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—É—Å—Ç–∞—è:
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
pythonParser.src/system/vdb.py
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π:** ~2-3 —Å–µ–∫—É–Ω–¥—ã (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ API OpenAI)
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:** ~0.02 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è batch 32
- **–ü–æ–∏—Å–∫:** ~0.5-1 —Å–µ–∫—É–Ω–¥–∞
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏:** ~15 —Å–µ–∫—É–Ω–¥

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å batch size –≤ `vdb.py`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPU –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `entity_recognition.py`)

**–î–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `alpha` –¥–ª—è –≤–∞—à–µ–≥–æ use case
2. –£–≤–µ–ª–∏—á–∏—Ç—å `limit` –¥–ª—è –±–æ–ª—å—à–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `hotness_weight` –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

```bash
# Weaviate
curl http://localhost:8080/v1/meta

# –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä
curl http://localhost:8083/.well-known/ready

# Reranker
curl http://localhost:8082/.well-known/ready
```

### –õ–æ–≥–∏

```bash
# Docker –ª–æ–≥–∏
docker logs weaviate
docker logs text2vec-transformers
docker logs bge-reranker

# Python –ª–æ–≥–∏
# –î–æ–±–∞–≤–ª–µ–Ω—ã –≤ engine.py —á–µ—Ä–µ–∑ logging module
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–µ Bert like –º–æ–¥–µ–ª–µ–π –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞–∂–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏


### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥—É–ª—è –ø–∞–º—è—Ç–∏

### –ü–æ–¥–±–æ—Ä–∫–∞ –≥–æ—Ä—è—á–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ—á—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω—É–∂–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –º–µ—Ç—Ä–∏–∫–∏ hotness
